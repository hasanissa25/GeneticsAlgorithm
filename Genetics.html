
<div style="text-align: left">
        <span style="color: #330099"></span><br>
        <span style="color: Navy">
        </span></p><table id="tb_data" align="Center" rules="all" style="border-width:1px;border-style:solid;width:373px;">
          <tbody><tr id="TableRow1" style="font-weight:bold;">
            <td id="TableCell1"></td><td id="TableCell2">1</td><td id="TableCell3">2</td><td id="TableCell4">3</td><td id="TableCell5">4</td><td id="TableCell6">5</td><td id="TableCell7">6</td><td id="TableCell8">7</td><td id="TableCell9">8</td><td id="TableCell88">9</td><td id="TableCell89">10</td>
          </tr><tr id="TableRow2">
            <td id="TableCell10" style="font-weight:bold;">A</td><td id="TableCell11">34</td><td id="TableCell12">31</td><td id="TableCell13">20</td><td id="TableCell14">27</td><td id="TableCell15">24</td><td id="TableCell16">24</td><td id="TableCell17">18</td><td id="TableCell18">33</td><td id="TableCell90">35</td><td id="TableCell91">19</td>
          </tr><tr id="TableRow3">
            <td id="TableCell19" style="font-weight:bold;">B</td><td id="TableCell20">14</td><td id="TableCell21">14</td><td id="TableCell22">22</td><td id="TableCell23">34</td><td id="TableCell24">26</td><td id="TableCell25">19</td><td id="TableCell26">22</td><td id="TableCell27">29</td><td id="TableCell92">22</td><td id="TableCell93">19</td>
          </tr><tr id="TableRow4">
            <td id="TableCell28" style="font-weight:bold;">C</td><td id="TableCell29">22</td><td id="TableCell30">16</td><td id="TableCell31">21</td><td id="TableCell32">27</td><td id="TableCell33">35</td><td id="TableCell34">25</td><td id="TableCell35">30</td><td id="TableCell36">22</td><td id="TableCell94">23</td><td id="TableCell95">23</td>
          </tr><tr id="TableRow5">
            <td id="TableCell37" style="font-weight:bold;">D</td><td id="TableCell38">17</td><td id="TableCell39">21</td><td id="TableCell40">24</td><td id="TableCell41">16</td><td id="TableCell42">31</td><td id="TableCell43">22</td><td id="TableCell44">20</td><td id="TableCell45">27</td><td id="TableCell96">26</td><td id="TableCell97">17</td>
          </tr><tr id="TableRow6">
            <td style="font-weight:bold;">E</td><td>17</td><td>29</td><td id="TableCell46">22</td><td id="TableCell47">31</td><td id="TableCell48">18</td><td id="TableCell49">19</td><td id="TableCell50">26</td><td id="TableCell51">24</td><td id="TableCell98">25</td><td id="TableCell99">14</td>
          </tr><tr id="TableRow7">
            <td id="TableCell52" style="font-weight:bold;">F</td><td id="TableCell53">26</td><td id="TableCell54">29</td><td id="TableCell55">37</td><td id="TableCell56">34</td><td id="TableCell57">37</td><td id="TableCell58">20</td><td id="TableCell59">21</td><td id="TableCell60">25</td><td id="TableCell100">27</td><td id="TableCell101">27</td>
          </tr><tr id="TableRow8">
            <td id="TableCell61" style="font-weight:bold;">G</td><td id="TableCell62">30</td><td id="TableCell63">28</td><td id="TableCell64">37</td><td id="TableCell65">28</td><td id="TableCell66">29</td><td id="TableCell67">23</td><td id="TableCell68">19</td><td id="TableCell69">33</td><td id="TableCell102">30</td><td id="TableCell103">21</td>
          </tr><tr id="TableRow9">
            <td id="TableCell70" style="font-weight:bold;">H</td><td id="TableCell71">28</td><td id="TableCell72">21</td><td id="TableCell73">30</td><td id="TableCell74">24</td><td id="TableCell75">35</td><td id="TableCell76">20</td><td id="TableCell77">24</td><td id="TableCell78">24</td><td id="TableCell104">32</td><td id="TableCell105">24</td>
          </tr><tr id="TableRow10">
            <td id="TableCell79" style="font-weight:bold;">I</td><td id="TableCell80">19</td><td id="TableCell81">18</td><td id="TableCell82">19</td><td id="TableCell83">28</td><td id="TableCell84">28</td><td id="TableCell85">27</td><td id="TableCell86">26</td><td id="TableCell87">32</td><td id="TableCell106">23</td><td id="TableCell107">22</td>
          </tr><tr id="TableRow11">
            <td id="TableCell108" style="font-weight:bold;">J</td><td id="TableCell109">30</td><td id="TableCell110">22</td><td id="TableCell111">29</td><td id="TableCell112">19</td><td id="TableCell113">30</td><td id="TableCell114">29</td><td id="TableCell115">29</td><td id="TableCell116">21</td><td id="TableCell117">20</td><td id="TableCell118">18</td>
          </tr><tr id="TableRow12">
            <td id="TableCell119" style="font-weight:bold;">K</td><td id="TableCell120">29</td><td id="TableCell121">25</td><td id="TableCell122">35</td><td id="TableCell123">29</td><td id="TableCell124">27</td><td id="TableCell125">18</td><td id="TableCell126">30</td><td id="TableCell127">28</td><td id="TableCell128">19</td><td id="TableCell129">23</td>
          </tr><tr id="TableRow13">
            <td id="TableCell130" style="font-weight:bold;">L</td><td id="TableCell131">15</td><td id="TableCell132">19</td><td id="TableCell133">19</td><td id="TableCell134">33</td><td id="TableCell135">22</td><td id="TableCell136">24</td><td id="TableCell137">25</td><td id="TableCell138">31</td><td id="TableCell139">33</td><td id="TableCell140">21</td>
          </tr><tr id="TableRow14">
            <td id="TableCell141" style="font-weight:bold;">M</td><td id="TableCell142">27</td><td id="TableCell143">32</td><td id="TableCell144">27</td><td id="TableCell145">29</td><td id="TableCell146">29</td><td id="TableCell147">21</td><td id="TableCell148">19</td><td id="TableCell149">25</td><td id="TableCell150">20</td><td id="TableCell151">27</td>
          </tr>
        </tbody></table>
        <br>
        <table id="tb_variables" rules="all" style="border-width:1px;border-style:solid;width:100%;">
          <tbody><tr>
            <td><input type="radio" id="randomAllocation" name="Allocation" value="randomAllocation" checked=true ><label for="randomAllocation">Random initial population</label></td>
            <td><input type="radio" id="HighQualityAllocation" name="Allocation" value="HighQualityAllocation"><label for="HighQualityAllocation">High quality initial population</label><td>
            <td>Population size: <input name="txt_pop" min="2" type="number" value="100" id="txt_pop" style="width:55;"></td>
            <td>Mutation rate: <input name="txt_mut" type="number" min="0.1" max="100" value="1" id="txt_mut" style="width:55;">%</td>
            <td>Maximum generations: <input name="txt_iter" type="number" min="1" value="400" id="txt_iter" style="width:55px;"></td>
            <td>Limit on consecutive unchanged population worst value: <input name="txt_termination" type="number" min="5 " value="8" id="txt_termination" style="width:55px;"></td>
          </tr>
        </tbody></table>
        <input type="submit" name="btn_start" value="Start" onclick="handleStart()" id="btn_start">&nbsp;
        <br>
        <span id="error_result" hidden="true" style="color:Purple; font-size:20px"></span>

        <div id="ValidationSummary1" style="display:none;">

        </div>
        <br>
        <div class="chart-container">
          <div id="canvasWrapper">
          </div>
            <span id="best_result" style="color:Purple; font-size:20px"></span>
        </div>
      </div>
    </form>
  <script type="text/javascript">
    const map = {
      A: [34, 31, 20, 27, 24, 24, 18, 33, 35, 19],
      B: [14,	14,	22,	34,	26,	19,	22,	29,	22,	19],
      C: [22,	16,	21,	27,	35,	25,	30,	22,	23,	23],
      D: [17,	21,	24,	16,	31,	22,	20,	27,	26,	17],
      E: [17,	29,	22,	31,	18,	19,	26,	24,	25,	14],
      F: [26,	29,	37,	34,	37,	20,	21,	25,	27,	27],
      G: [30,	28,	37,	28,	29,	23,	19,	33,	30,	21],
      H: [28,	21,	30,	24,	35,	20,	24,	24,	32,	24],
      I: [19,	18,	19,	28,	28,	27,	26,	32,	23,	22],
      J: [30,	22,	29,	19,	30,	29,	29,	21,	20,	18],
      K: [29,	25,	35,	29,	27,	18,	30,	28,	19,	23],
      L: [15,	19,	19,	33,	22,	24,	25,	31,	33,	21],
      M: [27,	32,	27,	29,	29,	21,	19,	25,	20,	27],

    }

    let parameters={
      //Takes the Population#, Mutationrate%, and termination#
      //saves them into variables
      initialPopulation: "",
      initialMutation: "",
      initialIteration: "",
      maxIncumbent: 0,
      maxIncumbentString: "",
      minIncumbentString: "",
      minIncumbent: 0,
      AllFitnessValues:[],
      AllFitnessValuesArray:[],
      fitnessTotal: 0,
      iterationsMinHasNotChanged: 0,
      iterationsMinExitFlag: "",
      limitOnIterationsForMinNotChanging: 0,
      currentMinIncumbent: 0,
      averageFitnessValues: [],
      currentAverageValue: "",
      allocationChoice:0
    }
    function graph(){
        //graphs 3 different lines
        //Graph best overall value
        //Graphs the current best value
        //Graphs the current worst value
        //Returns the final Value, and the String that gave that value

      var indexArray = Array.from(Array(parameters.bestFitnessValuesArray.length).keys());

      var canvasString='<canvas id="myChart" height="50" width="110" ></canvas>';
      document.getElementById("canvasWrapper").innerHTML=canvasString;
      var ctx = document.getElementById('myChart');

      var myChart = new Chart(ctx, {
          type: 'line',
          data: {
              labels:indexArray,
              datasets: [
              {
                  label: 'Incumbent Best Value',
                  data: parameters.bestFitnessValuesArray,
                  borderColor: [
                      'rgba(0, 255, 0, 1)'
                  ],
                  fill: false,
                  borderWidth: 1
              },
              {
                  label: 'Average Fitness Value',
                  data: parameters.averageFitnessValues,
                  borderColor: [
                      'rgba(0, 0, 255, 1)'
                  ],
                  fill: false,
                  borderWidth: 1
              },
              {
              label: 'Current Worst Fitness Value',
              data: parameters.WorstFitnessValuesArray,
              borderColor: [
                  'rgba(255, 0, 0, 1)'
              ],
              fill: false,
              borderWidth: 1
            }]

          },
          options :{
            scales: {
              yAxes: [{
                scaleLabel: {
                  display: true,
                  labelString: 'Fitness Value',
                  ticks: {
                    beginAtZero:true
                        },
                        stacked: true
                      }}],
                  xAxes: [{
                        scaleLabel: {
                          display: true,
                          labelString: 'Iteration Value',
                          ticks: {
                            beginAtZero:true
                                },
                                stacked: true
                              }}]
          }
      }})
      //document.getElementById("btn_start").disabled=true;
    }
    function handleStart(){
      //Handles the start button event, and calls generate initial population
      if(document.getElementById("txt_pop").value<=1){
        document.getElementById("error_result").innerHTML="Population size must be a positive number bigger than 1."
        document.getElementById("error_result").hidden=false;
      }
      else if(document.getElementById("txt_mut").value<=0 | document.getElementById("txt_mut").value>100){
        document.getElementById("error_result").innerHTML="Mutation rate must be bigger than 0% and smaller than 100%."
        document.getElementById("error_result").hidden=false;

      }
      else if(document.getElementById("txt_iter").value<=2){
        document.getElementById("error_result").innerHTML="Maximum generations must bigger than 2."
        document.getElementById("error_result").hidden=false;

      }
      else if(document.getElementById("txt_termination").value<=1){
        document.getElementById("error_result").innerHTML="Limit on consecutive unchanged population worst value must be a positive number bigger than 1."
        document.getElementById("error_result").hidden=false;

      }
      else{
        document.getElementById("error_result").hidden=true;
      parameters.givenPopulation= document.getElementById("txt_pop").value;
      var isOdd = function(x) { return x & 1; };

      if(isOdd(parameters.givenPopulation)){
        parameters.initialPopulation= (document.getElementById("txt_pop").value-1);
      }else{
        parameters.initialPopulation= (document.getElementById("txt_pop").value);
      }
      parameters.initialMutation= document.getElementById("txt_mut").value;
      parameters.initialIteration= document.getElementById("txt_iter").value;
      parameters.maxIncumbent= 0;
      parameters.minIncumbent= 0;
      parameters.AllFitnessValues=[];
      parameters.BestFitnessValues=[];
      parameters.bestFitnessValuesArray=[];
      parameters.WorstFitnessValues=[];
      parameters.WorstFitnessValuesArray=[];
      parameters.AllFitnessValuesArray=[]
      parameters.iterationsMinHasNotChanged=0;
      parameters.iterationsMinExitFlag=false;
      parameters.limitOnIterationsForMinNotChanging= (document.getElementById("txt_termination").value -1);
      parameters.currentMinIncumbent= "";
      parameters.averageFitnessValues= [];
      parameters.currentAverageValue="";
      if(document.getElementById("randomAllocation").checked){
        ////console.log("You have selected random allocation");
        parameters.allocationChoice=0;
      } else{
        ////console.log("You have selected High Quality allocation");
        parameters.allocationChoice=1;
      }

      generateInitialPopulation();
      graph();
      }
    }

    function generateInitialPopulation(){
      //Takes the initial population number and creates that many strings of a random assignment of Person-Task.
        var listOfInitialPopulation= new Array();
        var listOfNewChildren= new Array();
        var listOfCrossedOverChildren= new Array();
        var listOfMutatedChildren= new Array();
        if(parameters.allocationChoice==0){
        for (var i = 0; i < parameters.initialPopulation; i++) {
          listOfInitialPopulation.push(createPersonTaskPairRandom());
          }
        }
        if(parameters.allocationChoice==1){
        for (var i = 0; i < parameters.initialPopulation; i++) {
          listOfInitialPopulation.push(createPersonTaskPairHighQuality());
          }
        }
          ////console.log("The Initial Population is :");
          ////console.log(listOfInitialPopulation);
          listOfNewChildren= reproductionOperator(listOfInitialPopulation);
          //console.log("The list of children after the Reproduction Operator is: ");
          //console.log(listOfNewChildren);
          listOfCrossedOverChildren= crossOverPopulation(listOfNewChildren);
          //console.log("The crossed over list is :");
          //console.log(listOfCrossedOverChildren);
          listOfMutatedChildren=mutation(listOfCrossedOverChildren);
          //console.log("The list after the mutation is :");
          //console.log(listOfMutatedChildren);

          parameters.currentAverageValue=0;
          parameters.currentMinIncumbent=0;
          for (var i = 0; i < listOfMutatedChildren.length; i++) {
            setMinMaxIncumbent(listOfMutatedChildren[i]);
          }
          parameters.previousMinIncumbent=parameters.currentMinIncumbent;
          //console.log("After getting the initial values, the previous min incumbent is "+parameters.previousMinIncumbent);
          //console.log("After getting the initial values, the current min incumbent is "+parameters.currentMinIncumbent );
          parameters.BestFitnessValues.push(parameters.maxIncumbent);
          parameters.WorstFitnessValues.push(parameters.currentMinIncumbent);
          parameters.averageFitnessValues.push(calculateAverageFitness(listOfMutatedChildren));
            for (var maxIterations = 1; maxIterations < parameters.initialIteration && parameters.iterationsMinExitFlag==false ; maxIterations++) {
              parameters.currentMinIncumbent=0;
              //console.log("Currently on iteration: "+maxIterations);
              //console.log("The list of the new starting population is : ");
              //console.log(listOfMutatedChildren);
               listOfNewChildren= reproductionOperator(listOfMutatedChildren);
               if(parameters.iterationsMinExitFlag==false){
               //console.log("The new list after reproductionOperator is : ");
               //console.log(listOfNewChildren);
               listOfCrossedOverChildren= crossOverPopulation(listOfNewChildren);
              }
              if(parameters.iterationsMinExitFlag==false){
               //console.log("The new list after the crossover operation is: ");
               //console.log(listOfCrossedOverChildren);
               listOfMutatedChildren=mutation(listOfCrossedOverChildren);
             }
             if(parameters.iterationsMinExitFlag==false){

               //console.log("The new list after the mutation operation is ");
               //console.log(listOfMutatedChildren);
               parameters.currentAverageValue=0;
               //console.log("Before the iteration  previous min incumbent is :"+parameters.previousMinIncumbent + "and the current min incumbent is "+ parameters.currentMinIncumbent);
               for (var i = 0; i < listOfMutatedChildren.length; i++) {
                 setMinMaxIncumbent(listOfMutatedChildren[i]);
               }
               if(parameters.previousMinIncumbent!=parameters.currentMinIncumbent){
                 parameters.iterationsMinHasNotChanged=0;
                 parameters.previousMinIncumbent=parameters.currentMinIncumbent;
                 //console.log("The min has changed, therfore setting the previous equal to the new one");
               }else{
                 checkMinIncumbentIterations();
               }

               //console.log("After the iteration previous min incumbent is :"+parameters.previousMinIncumbent + "and the current min incumbent is "+ parameters.currentMinIncumbent);

               parameters.BestFitnessValues.push(parameters.maxIncumbent);
               parameters.WorstFitnessValues.push(parameters.currentMinIncumbent);
               //console.log(listOfMutatedChildren);
               parameters.averageFitnessValues.push(calculateAverageFitness(listOfMutatedChildren));
             }
             }
             if (parameters.iterationsMinExitFlag==true) {
               //console.log("The worstcase incumbent has not changed, therefore the program is terminating");
               //console.log("Incumbent Best Value");
               parameters.bestFitnessValuesArray= parameters.BestFitnessValues;
               //console.log(parameters.bestFitnessValuesArray);
               //console.log("Current Worst fitness value in this generation ");
               parameters.WorstFitnessValuesArray=parameters.WorstFitnessValues;
               //console.log(parameters.WorstFitnessValuesArray);

             }
             else {
               //console.log("You have reached the max number of iterations");
               //console.log("Best fitness Values");
            parameters.bestFitnessValuesArray= parameters.BestFitnessValues;
               //console.log(parameters.bestFitnessValuesArray);
               //console.log("Worst fitness values ");
              parameters.WorstFitnessValuesArray=parameters.WorstFitnessValues;
               //console.log(parameters.WorstFitnessValuesArray);
               parameters.AllFitnessValuesArray=parameters.AllFitnessValues;
             }
    }

    function reproductionOperator(listOfInitialPopulation){
      parameters.fitnessTotal=0;
      calculateFitnessTotal(listOfInitialPopulation);
      var reproductionOperatorList= [];
      var listOfNewChildren=[];
      var currentTotal=0;
      for (var i = 0; i < listOfInitialPopulation.length; i++) {
        reproductionOperatorList.push(fitnessAsPercentTotal(listOfInitialPopulation[i])+currentTotal);
        currentTotal+=fitnessAsPercentTotal(listOfInitialPopulation[i]);
      }
      for (var i = 0; i < listOfInitialPopulation.length; i++) {
        var generatedNumber= randomNumberGenerator(50);
        for (var y = 0; y < reproductionOperatorList.length; y++) {
            if(generatedNumber<=reproductionOperatorList[y]){
            listOfNewChildren.push(listOfInitialPopulation[y]);
            break;
          }
        }
      }
      return listOfNewChildren;
    }
    function fitnessTotalCalculation(result){
      parameters.fitnessTotal+=result;
    }
    function fitnessFunction(stringArray){
      //assigns values to solution strings
      var result=0;
      for (var i = 0; i < stringArray.length; i++) {
        result+=map[stringArray[i]][i];
      }
      return result;
    }
    function fitnessAsPercentTotal(stringOfAssignments){
      //returns a % of fitness for the current string by dividing it by the total fitness
      var percentOfTotal= (fitnessFunction(stringOfAssignments)/parameters.fitnessTotal)*100;
      return percentOfTotal;
    }
    function calculateFitnessTotal(arrayOfStrings){
      //sets the fitness total parameters
      for (var i = 0; i < arrayOfStrings.length; i++) {
        parameters.fitnessTotal+= fitnessFunction(arrayOfStrings[i]);
      }
    }
    function createPersonTaskPairHighQuality(){
      /*
      -  randomly pick a person
       - assign the best scoring job for them
       - remove person and job from consideration
       - repeat until all people are assigned.
       - repeat this until the population is filled.
       */
      var highQualityMap= JSON.parse(JSON.stringify(map));
      var job1="";
      var job2="";
      var job3="";
      var job4="";
      var job5="";
      var job6="";
      var job7="";
      var job8="";
      var job9="";
      var job10="";
      var stringOfAssignments= [job1,job2,job3,job4,job5,job6,job7,job8,job9,job10];
      var person=["A","B","C","D","E","F","G","H","I","J","K","L","M"];
      for(var j=0; j<10;j++){
        var maxJobValue=0;
        var maxValueIndex;
        //Randomly pick a person
        var generatedNumber = randomNumberGenerator(person.length)
        var randomlyChosenPerson= person[generatedNumber];
        //assign the best scoring job for them
        for(var i=0;i<10;i++){
          if((highQualityMap[randomlyChosenPerson][i])>maxJobValue){
            maxJobValue=(map[randomlyChosenPerson][i]);
            maxValueIndex=i;
          }
        }
        stringOfAssignments[maxValueIndex]=randomlyChosenPerson;
        highQualityMap["A"][maxValueIndex]=0;
        highQualityMap["B"][maxValueIndex]=0;
        highQualityMap["C"][maxValueIndex]=0;
        highQualityMap["D"][maxValueIndex]=0;
        highQualityMap["E"][maxValueIndex]=0;
        highQualityMap["F"][maxValueIndex]=0;
        highQualityMap["G"][maxValueIndex]=0;
        highQualityMap["H"][maxValueIndex]=0;
        highQualityMap["I"][maxValueIndex]=0;
        highQualityMap["J"][maxValueIndex]=0;
        highQualityMap["K"][maxValueIndex]=0;
        highQualityMap["L"][maxValueIndex]=0;
        highQualityMap["M"][maxValueIndex]=0;
        person.splice(generatedNumber,1);
      }
      return stringOfAssignments;
    }
    function createPersonTaskPairRandom(){
      //Creates a string that is a Person-Task pair
      var stringOfAssignments= [];
      var person=["A","B","C","D","E","F","G","H","I","J","K","L","M"];
      for(var i=0; i<10;i++){
        var generatedNumber = randomNumberGenerator(person.length)
        stringOfAssignments.push(person[generatedNumber]);
        person.splice(generatedNumber,1);
      }
      fitnessFunction(stringOfAssignments);
      return stringOfAssignments;
    }

    function randomNumberGenerator(maximumNumber) {
      //generates a random number from 0-maximumNumber
      var x = Math.floor((Math.random() * maximumNumber));
      return x;
    }
    function randomNumberGeneratorWithDecimals(maximumNumber) {
      //generates a random number from 0-maximumNumber
      var x = (Math.random() * maximumNumber);
      return x;
    }

    function calculateAverageFitness(population){
      var sizeOfPopulation= population.length;
      var currentTotalOfFitness= 0;
      for(var i=0;i<sizeOfPopulation;i++){
          currentTotalOfFitness+=checkFitnessValue(population[i]);
      }
      return currentTotalOfFitness/sizeOfPopulation;
    }

    function checkFitnessValue(string){
      var result=0;
      for (var i = 0; i < string.length; i++) {
        result+=map[string[i]][i];
      }
      return result;
    }
    function setMinMaxIncumbent(stringArray){
      //Set the new min and max incumbent value based on the string given
      var result=0;
      for (var i = 0; i < stringArray.length; i++) {
        result+=map[stringArray[i]][i];
      }
      parameters.currentAverageValue+=(result/parameters.initialPopulation);
      if(parameters.currentMinIncumbent==0){
          parameters.currentMinIncumbent=result;
      }
      if(result>parameters.maxIncumbent){
        parameters.maxIncumbent=result;
        parameters.maxIncumbentString=stringArray;
      //  //console.log("New max incumbent has been found which is "+parameters.maxIncumbent+ " through string "+ parameters.maxIncumbentString);
        document.getElementById("best_result").innerHTML= "The solution is "+parameters.maxIncumbentString+ " with a value of "+ parameters.maxIncumbent+ ".";
      }
      else if(result<parameters.currentMinIncumbent){
        parameters.currentMinIncumbent=result;
        parameters.minIncumbentString=stringArray;
      //  //console.log("New worst case has been found which is "+ parameters.currentMinIncumbent+ " through string "+parameters.minIncumbentString);
      }
  //    //console.log("Current min incumbent is "+parameters.currentMinIncumbent );
    }

    function checkMinIncumbentIterations(){
      //console.log("Before incrementing " +parameters.iterationsMinHasNotChanged);
      parameters.iterationsMinHasNotChanged+=1;
      //console.log("Afterincrementing " +parameters.iterationsMinHasNotChanged);
      //console.log("The previous min is the same as the current, therefore we are incrementing the check and its at: "+ parameters.iterationsMinHasNotChanged);
      if(parameters.iterationsMinHasNotChanged==parameters.limitOnIterationsForMinNotChanging){
        //console.log("setting the worst iterations reached flag to true");
        parameters.iterationsMinExitFlag=true;
      }
    }
    function crossOverPopulation(listOfNewChildrenPassed){
      var crossedOverList=[];
      var firstString=[];
      var secondString=[];
      for (var iterator = 0; iterator < listOfNewChildrenPassed.length; iterator=iterator+2) {

        firstString=[...listOfNewChildrenPassed[iterator]];
        secondString=[...listOfNewChildrenPassed[iterator+1]];
        var copyOfOrignalfirstString3=firstString[3];
        var copyOfOrignalfirstString4=firstString[4];
        var copyOfOrignalfirstString5=firstString[5];
        firstString[3]=secondString[3];
        firstString[4]=secondString[4];
        firstString[5]=secondString[5];
        secondString[3]=copyOfOrignalfirstString3;
        secondString[4]=copyOfOrignalfirstString4;
        secondString[5]=copyOfOrignalfirstString5;
        var exchangeOfFirstString3=secondString[3];
        var exchangeOfFirstString4=secondString[4];
        var exchangeOfFirstString5=secondString[5];
        var exchangeOfSecondString3=firstString[3];
        var exchangeOfSecondString4=firstString[4];
        var exchangeOfSecondString5=firstString[5];
        for (var i = 0; i < firstString.length; i++) {
            if(i==3 || i==4 || i==5) continue;
            else if (firstString[i]==firstString[3]) {
              firstString[i]=exchangeOfFirstString3;
            }
            else if(firstString[i]==firstString[4]){
              firstString[i]=exchangeOfFirstString4;
            }
            else if(firstString[i]==firstString[5]){
              firstString[i]=exchangeOfFirstString5;
            }
        }
        for (var i = 0; i < firstString.length; i++) {
            if(i==3 || i==4 || i==5) continue;
            else if (firstString[i]==firstString[3]) {
              firstString[i]=exchangeOfFirstString3;
            }
            else if(firstString[i]==firstString[4]){
              firstString[i]=exchangeOfFirstString4;
            }
            else if(firstString[i]==firstString[5]){
              firstString[i]=exchangeOfFirstString5;
            }
        }
        for (var i = 0; i < firstString.length; i++) {
            if(i==3 || i==4 || i==5) continue;
            else if (firstString[i]==firstString[3]) {
              firstString[i]=exchangeOfFirstString3;
            }
            else if(firstString[i]==firstString[4]){
              firstString[i]=exchangeOfFirstString4;
            }
            else if(firstString[i]==firstString[5]){
              firstString[i]=exchangeOfFirstString5;
            }
        }
        crossedOverList.push(firstString);
        for (var j = 0; j < secondString.length; j++) {
          if(j==3 || j==4 || j==5) continue;
          else if (secondString[j]==secondString[3]) {
            secondString[j]=exchangeOfSecondString3;
          }
          else if(secondString[j]==secondString[4]){
            secondString[j]=exchangeOfSecondString4;
          }
          else if(secondString[j]==secondString[5]){
            secondString[j]=exchangeOfSecondString5;
          }
        }
        for (var j = 0; j < secondString.length; j++) {
          if(j==3 || j==4 || j==5) continue;
          else if (secondString[j]==secondString[3]) {
            secondString[j]=exchangeOfSecondString3;
          }
          else if(secondString[j]==secondString[4]){
            secondString[j]=exchangeOfSecondString4;
          }
          else if(secondString[j]==secondString[5]){
            secondString[j]=exchangeOfSecondString5;
          }
        }
        for (var j = 0; j < secondString.length; j++) {
          if(j==3 || j==4 || j==5) continue;
          else if (secondString[j]==secondString[3]) {
            secondString[j]=exchangeOfSecondString3;
          }
          else if(secondString[j]==secondString[4]){
            secondString[j]=exchangeOfSecondString4;
          }
          else if(secondString[j]==secondString[5]){
            secondString[j]=exchangeOfSecondString5;
          }
        }
        crossedOverList.push(secondString);
      }
      return crossedOverList;
    }



    function mutation(listOfCrossedOverChildren){
      var listToMutate=[...listOfCrossedOverChildren];
      var mutatedList= new Array();
      for (var i = 0; i < listToMutate.length; i++) {
        //Go over the original list of children, each child
        var currentString= [...listToMutate[i]];
        for (var j = 0; j < 10; j++) {
          //For each child, go over each element
          var randomNumber= randomNumberGeneratorWithDecimals(100);
          if (randomNumber<parameters.initialMutation) {
            //we want to swap the current element, with a random second element in the string.
            var randomIndex= randomNumberGenerator(10) ;
            while (randomIndex==j) {
              randomIndex= randomNumberGenerator(10);
            }
            //we have the index we will swap to.
            var swapWith=currentString[randomIndex];
            var swapping=currentString[j];
            currentString[j]=swapWith;
            currentString[randomIndex]=swapping;
          }
        }
        mutatedList.push(currentString);
      }
      return mutatedList;
    }
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.min.js" integrity="sha512-d9xgZrVZpmmQlfonhQUvTR7lMPtO7NkZMkA0ABN3PHCbKA5nqylQ/yWlFAyY6hYgdF1Qh6nYiuADWwKB4C2WSw==" crossorigin="anonymous"></script>
  </body>
  </html>
